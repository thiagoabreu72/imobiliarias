@if (resultadoBusca$ | async; as response) {
  <div class="titulo-container">
    <h1 class="texto-topo-busca">{{ response.quantidade }} {{ tituloPagina }}</h1>
  </div>
}

<div class="conteudo-principal">

  <div class="filtro-desktop">
    <app-filtro-imoveis
      [finalidade]="finalidade"
      (filtrosChange)="onFiltrosChange($event)">
    </app-filtro-imoveis>
  </div>

  <main class="resultados">
    @if (resultadoBusca$ | async; as response) {
      <div class="grid-imoveis">
        @for (card of response.lista; track card.codigo) {
          <app-card-geral [cards]="card"></app-card-geral>
        } @empty {
          <p class="sem-resultados">Nenhum im칩vel encontrado com os filtros selecionados.</p>
        }
      </div>

      @if (response.lista && response.lista.length > 0) {
        <div class="paginacao">
          <button (click)="paginaAnterior()" [disabled]="currentPage === 1">Anterior</button>
          <span>P치gina {{ currentPage }}</span>
          <button (click)="proximaPagina()" [disabled]="response.lista.length < 12">Pr칩xima</button>
        </div>
      }
    } @else {
      <app-loading></app-loading>
    }
  </main>

</div>

<div class="floating-filter-btn-container">
  <button class="btn btn-dark shadow-lg rounded-pill" (click)="abrirFiltroModal()">
    <i class="bi bi-funnel-fill me-2"></i>
    Mais Filtros
  </button>
</div>

<div class="modal fade" id="filtroModal" #filtroModal tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Filtrar Im칩veis</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <app-filtro-imoveis
          [finalidade]="finalidade"
          (filtrosChange)="onFiltrosChange($event)">
        </app-filtro-imoveis>
      </div>
    </div>
  </div>
</div>